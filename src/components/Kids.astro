---
import ProfileCard from './ProfileCard.astro';
import { kids } from '../data/homeData';
---

<section id="services" class="section-spacing bg-grey-50">
  <div class="container">
    <!-- Section Header -->
    <div class="section-header text-center">
      <h2 class="section-title">Our Kids</h2>
      <p class="section-subtitle">
        Meet our most senior and oldest kids who have grown with the Koshish Family and are now pursuing their dreams.
      </p>
    </div>
    
    <!-- Kids Profiles -->
    <div class="space-y-8">
      {kids.map((kid, index) => (
        <div class="fade-in-simple" style={`animation-delay: ${index * 0.1}s;`}>
          <ProfileCard 
            name={kid.name}
            description={kid.description}
            image={kid.image}
            imagePosition={kid.imagePosition}
          />
        </div>
      ))}
    </div>
  </div>
</section>

<script>
  // Animate profile cards on scroll
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.classList.add('visible');
      }
    });
  }, observerOptions);

  document.querySelectorAll('#services .fade-in-simple').forEach(el => {
    observer.observe(el);
  });
</script>
